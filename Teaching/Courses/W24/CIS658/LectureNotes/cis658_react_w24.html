
<html lang="en">
<head>
  <title>GVSU School of Computing</title>
  <meta charset="utf-8">
  <style>
    .type-this {
      background-color: #ffddff;
      white-space: nowrap;
    }

    .to-me {
      color: #0000ff;
      font-size: 110%;
    }

    .question, .q {
      color: #cc00cc;
      font-size: 110%;
    }

    .question, .q > ul {
      color: #000000;
      font-size: 91%;
    }

    li p {
      margin: 0;
    }

    .listHeader {
      padding-bottom: 0;
      margin-bottom: 0;
    }

    ul, ol {
      padding-top: 0;
      margin-top: 0;
    }

    table.bottomBorders td {
      border-bottom: 1px solid black;
    }

    .indent25 {
      margin: 25px;
    }

  pre {
    display: inline-block;
    background-color: #f0f0f0;
    padding: 3px;
    padding-right: 10px;
  }

    
    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sa {
  color: #000000;
  font-weight: bold;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s, .highlight .dl {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf, .highlight .fm {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv, .highlight .vm {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    
    .highlight {
      display: inline-block;
      background-color: #ffffff;
    }

    pre.highlight {
      background-color: #f0f0f0;
      padding-right: 10px;
    }

  </style>
</head>
<body>
<main id="content">
  <h1 id="react">React</h1>

<h2 id="review">Review</h2>

<ul>
  <li>Questions about “raw” DOM creation?
    <ul>
      <li><code>createElement</code></li>
      <li><code>innerText</code></li>
      <li><code>addChild</code></li>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/clientSideDomCreation.js">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/clientSideDomCreation.js</a></li>
    </ul>
  </li>
  <li>Use of <code>React.createElement</code> to simplify the above process.
    <ul>
      <li>Combines element creation, addition of attributes/style, and the addition of children.</li>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/complexDOMcreateElement.js">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/complexDOMcreateElement.js</a></li>
    </ul>
  </li>
  <li>Use of JSX as a “shortcut” to writing calls to <code>React.createElement</code>
    <ul>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/jsx1.jsx">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/jsx1.jsx</a></li>
      <li>In general, a block of JSX should produce a DOM element (i.e., the results of running <code>React.createElement</code>)</li>
    </ul>
  </li>
  <li>Can insert JavaScript into JSX using <code>{}</code>.
    <ul>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/jsx2.jsx">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactJSXIntro/jsx2.jsx</a></li>
    </ul>
  </li>
</ul>

<h2 id="new-stuff">New Stuff</h2>

<ul>
  <li class="to-me">Show video slide with components</li>
  <li>We want to display a list of recipes.</li>
  <li>We want to avoid duplicating code.</li>
  <li>Notice we are repeating the same pattern with different data.</li>
  <li>So, this should be analogous to calling a function with different parameters.</li>
  <li>Each recipe is further broken into sub-components (like helper functions)</li>
  <li><code>IngredientList</code>
    <ul>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/exampleComponent1.jsx">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/exampleComponent1.jsx</a></li>
    </ul>
  </li>
  <li>A component can be used elsewhere almost as if it were an HTML tag:
    <ul>
      <li><code>&lt;IngredientList&gt;</code></li>
    </ul>
  </li>
  <li>To make it abstract, we pass parameters.</li>
  <li>Well, one parameter to be specific, called “props”.</li>
  <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/recipe1.jsx">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/recipe1.jsx</a></li>
  <li class="to-me">Look at the data: An array of nested JavaScript objects (i.e., key-value pairs)</li>
  <li class="to-me">Look at “innermost” component: <code>Ingredient</code>
    <ul>
      <li>Notice that an object describing an ingredient has three properties: <code>name</code>, <code>amount</code>, and <code>measurement</code></li>
      <li>We can refer to those inside the JSX.</li>
    </ul>
  </li>
  <li class="to-me">Look at data structure for <code>ingredients</code>:  Just an array.</li>
  <li class="to-me">Now look at <code>IngredientListDemo</code>
    <ul>
      <li>This time the <code>props</code> object has just one key: <code>ingredients</code></li>
      <li>Notice how we use the sub-component <code>Ingredient</code> with an HTML-tag-like syntax.</li>
      <li>Notice how we pass parameters using <code>key=value</code> syntax.
        <ul>
          <li>These key/values are passed as a single parameter (i.e. <code>props</code>)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="to-me">Now look at the “real” <code>IngredientList</code></li>
  <li class="to-me"><code>Instructions</code></li>
  <li class="to-me"><code>Recipe</code></li>
  <li class="to-me"><code>Menu</code></li>
  <li class="to-me">Insert into DOM</li>
</ul>

<h2 id="javascript-short-cuts">Javascript short-cuts</h2>

<ul>
  <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/JavaScriptBasics/deconstructingArrays.js">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/JavaScriptBasics/deconstructingArrays.js</a></li>
  <li>Deconstructing arrays (<code>useState</code>)</li>
  <li>Array spread operator
    <ul>
      <li>Spread out</li>
      <li>re-group</li>
    </ul>
  </li>
  <li>Deconstructing objects (<code>props</code>)
    <ul>
      <li><a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/JavaScriptBasics/deconstructingObjects.js">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/JavaScriptBasics/deconstructingObjects.js</a></li>
    </ul>
  </li>
  <li class="to-me">show constructing an object, then compare it to the “old” way:</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">fname</span><span class="p">,</span> <span class="nx">lname</span><span class="p">,</span> <span class="nx">occupation</span> <span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Notice that variable names become key names: </span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">person2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">fname</span><span class="p">:</span> <span class="nx">fname</span><span class="p">,</span>
    <span class="na">lname</span><span class="p">:</span> <span class="nx">lname</span><span class="p">,</span>
    <span class="na">occupation</span><span class="p">:</span> <span class="nx">occupation</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Does this redundancy look familiar?</li>
  <li>Use <code>...</code> on objects to clone objects
    <ul>
      <li>And add properties when cloning.</li>
    </ul>
  </li>
  <li class="to-me">Look at <code>recipe3.jsx</code></li>
</ul>

<h2 id="state">State</h2>

<ul>
  <li class="to-me"><code>stateUsingClosures.js</code>: <a href="https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/stateUsingClosures.js">https://github.com/kurmasz-SampleCode/CIS371-SampleCode/blob/master/ReactRecipe/stateUsingClosures.js</a></li>
  <li><code>recipe2.jsx</code>
    <ul>
      <li>The component functions are responsible for rendering (drawing) the components.</li>
      <li>We can’t store state inside these functions, because the state would get re-set every time 
a component was re-rendered.</li>
      <li>We don’t want to simply throw state into a global variable (for all the reasons that global variables 
can be problematic).</li>
      <li>The closure-based <code>useState</code> solves this issue:
        <ul>
          <li>State is stored outside the function; but,</li>
          <li>access to that state is still limited to the scope of the function.</li>
        </ul>
      </li>
      <li>Also, the hook does more than simply store state.  The inner workings also look at state changes to optimize 
re-rendering.</li>
    </ul>
  </li>
</ul>

<h2 id="colorlist">ColorList</h2>
<ul>
  <li>Demonstrate <code>ColorList1_fetch</code></li>
  <li>Note: This is covered in the book. Probably more effective to read at your own pace than try to learn everything from me in “real time”.  I’ll try to point out the confusing parts here.</li>
  <li><code>Star.jsx</code>
    <ul>
      <li>Shape is imported from a library.</li>
      <li><code>selected</code> determines the color</li>
      <li><code>onStarClicked</code> is a function passed down from above</li>
      <li>When a star is clicked, then that function is called</li>
    </ul>
  </li>
  <li><code>StarRating.jsx</code>
    <ul>
      <li><code>totalStars</code> (how many iterations to run the loop)</li>
      <li><code>selectedStars</code> (the rating)</li>
      <li><code>onRatingUpdated</code> (function to call when the rating changes)</li>
      <li class="to-me">Explain how <code>selectedStars</code> generates the visual of the rating</li>
      <li class="to-me">Explain how clicking a specific star causes <code>onRatingUpdated</code> to be called with the
new rating as a parameter.</li>
      <li class="to-me">Highlight the difference between <code>onClick={foo}</code> in <code>Star.jsx</code> and <code>onClick={() =&gt; foo()}</code> 
here. (Emphasize the use of the closure to keep track of <code>i</code>.)</li>
      <li>Notice that we need to store the rating at a higher level, so it is passed down to this level (rather than there being a <code>useState</code> here)</li>
    </ul>
  </li>
  <li><code>Color.jsx</code>
    <ul>
      <li><code>title</code> prop</li>
      <li>color is displayed as a <code>div</code> with a given <code>backgroundColor</code></li>
      <li><code>StarRating</code> is the list of stars (i.e., it contains the individual <code>Star</code> components)</li>
      <li>A <code>color</code> object contains several properties (title, color, rating, etc).  <code>title</code> and <code>backgroundColor</code> are used directly here.  <code>rating</code> is passed down to the <code>StarRating</code>.</li>
    </ul>
  </li>
  <li><code>ColorList.jsx</code>
    <ul>
      <li>Just iterates through an array of colors.</li>
    </ul>
  </li>
  <li><code>App.js</code>:
    <ul>
      <li>For now, just the form and the list of colors.</li>
      <li>Notice that this component is the “source of truth” for the color data.
        <ul>
          <li>The color data must be stored here (and is “pushed down” into the components)</li>
          <li>Any changes must be passed “up” to this level.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>When a star is clicked, rather than changing a local state, it needs to call a function in the 
“upper-level” component letting it know what happened. To make this happen, each upper-level component
passes a function as a prop.  The lower-level component calls this function to report activity/state change.  Thus, when a star is clicked, it starts a chain of function calls all the way back up into the <code>updateRating</code> function in the <code>App</code> component.
    <ul>
      <li><code>App</code> to <code>ColorList</code>: “Call this function if the rating changes.”</li>
      <li><code>ColorList</code> to <code>Color</code> “Call this function if the rating changes.”</li>
      <li>…</li>
      <li>Notice that this is not the same function all the way down (although it can be).</li>
      <li><strong>Important</strong> Notice that when the list of colors changes, a <strong>new list</strong> is created.
        <ul>
          <li><code>updateRating</code> calls <code>setColors</code> on a new list of colors. It does not simply modify the existing list.</li>
          <li>If you just modify the existing list, then the React engine may not detect the change and perform the update.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="forms">Forms</h2>
<ul>
  <li><code>NewColorForm.jsx</code></li>
  <li>Controlled vs. uncontrolled components.</li>
  <li>Notice the use of local state and also callback to higher level.</li>
</ul>

<h1 id="api">API</h1>
<ul>
  <li>Switch to building a Rails API so colors don’t have to be “hard coded”.</li>
</ul>

</main>
</body>
</html>
