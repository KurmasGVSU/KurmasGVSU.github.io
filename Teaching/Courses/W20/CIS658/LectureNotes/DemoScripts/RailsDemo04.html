
<html lang="en">
<head>
  <title>GVSU School of Computing</title>
  <meta charset="utf-8">
  <style>
    .type-this {
      background-color: #ffddff;
      white-space: nowrap;
    }

    .to-me {
      color: #0000ff;
      font-size: 110%;
    }

    .question, .q {
      color: #cc00cc;
      font-size: 110%;
    }

    .question, .q > ul {
      color: #000000;
      font-size: 91%;
    }

    li p {
      margin: 0;
    }

    .listHeader {
      padding-bottom: 0;
      margin-bottom: 0;
    }

    ul, ol {
      padding-top: 0;
      margin-top: 0;
    }

    table.bottomBorders td {
      border-bottom: 1px solid black;
    }

    .indent25 {
      margin: 25px;
    }

  pre {
    display: inline-block;
    background-color: #f0f0f0;
    padding: 3px;
    padding-right: 10px;
  }

    
    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf, .highlight .fm {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv, .highlight .vm {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    
    .highlight {
      display: inline-block;
      background-color: #ffffff;
    }

    pre.highlight {
      background-color: #f0f0f0;
      padding-right: 10px;
    }

  </style>
</head>
<body>
<main id="content">
  <h1 id="rails-demo-4-making-things-pretty-with-bootstrap">Rails Demo 4: Making things pretty with Bootstrap</h1>

<p><a href="https://getbootstrap.com">Bootstrap</a> is a popular front-end library released by Twitter that makes it easy to add professional styling to our web app. This demo continues the blog app you wrote previously.</p>

<p>The instructions for configuring Rails 6 to use Bootstrap were provided by this video: <a href="https://gorails.com/episodes/how-to-use-bootstrap-with-webpack-and-rails">https://gorails.com/episodes/how-to-use-bootstrap-with-webpack-and-rails</a>.</p>

<h2 id="step-1-first-we-need-to-install-bootstrap-into-our-rails-app">Step 1: First we need to install Bootstrap into our Rails app.</h2>

<ol>
  <li>
    <p>Use <code>yarn</code> to install the <code>bootstrap</code>, <code>jquery</code>, and <code>popper.js</code> packages</p>

    <pre><code> yarn add bootstrap jquery popper.js
</code></pre>
  </li>
  <li>
    <p>Modify <code>config/webpack/environment.js</code> so that it looks like this:</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">environment</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@rails/webpacker</span><span class="dl">'</span><span class="p">)</span>
   
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">environment</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Provide</span><span class="dl">"</span><span class="p">,</span> <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">ProvidePlugin</span><span class="p">({</span>
  <span class="na">$</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">jQuery</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">Popper</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">popper.js</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">]</span>
<span class="p">}));</span>
   
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">environment</span>
</code></pre></div>    </div>

    <p>The “<code>Provide</code>” plugin makes the <code>$</code>, <code>jQuery</code>, and <code>Popper</code> names available to Bootstrap.</p>
  </li>
  <li>Create a file named <code>app/javascript/stylesheets/application.scss</code> that contains one line: <code>@import "~bootstrap/scss/bootstrap"</code>
    <ul>
      <li>You will need to create the <code>app/javascript/stylesheets</code> directory.</li>
      <li>Importing this <code>scss</code> file makes various bootstrap CSS variables available to JavaScript code.</li>
      <li>Note: This <code>application.scss</code> file is different from <code>app/assets/stylesheets/application.scss</code>.</li>
    </ul>
  </li>
  <li>
    <p>Modify <code>app/javascript/packs/application.js</code> so that it looks like this:</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rails/ujs</span><span class="dl">"</span><span class="p">).</span><span class="nx">start</span><span class="p">()</span>
<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">turbolinks</span><span class="dl">"</span><span class="p">).</span><span class="nx">start</span><span class="p">()</span>
<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rails/activestorage</span><span class="dl">"</span><span class="p">).</span><span class="nx">start</span><span class="p">()</span>
<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">channels</span><span class="dl">"</span><span class="p">)</span>
   
<span class="k">import</span> <span class="dl">"</span><span class="s2">bootstrap</span><span class="dl">"</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">../stylesheets/application</span><span class="dl">"</span>
   
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">turbolinks:load</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-toggle="tooltip"]</span><span class="dl">'</span><span class="p">).</span><span class="nx">tooltip</span><span class="p">();</span>
  <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-toggle="popover"]</span><span class="dl">'</span><span class="p">).</span><span class="nx">popover</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>    </div>

    <ul>
      <li><code>import "bootstrap"</code> imports the Bootstrap-related JavaScript code.</li>
      <li>The <code>addEventListener</code> reacts to a page load and runs the code necessary to make tooltips and popovers work.</li>
    </ul>
  </li>
  <li>
    <p>Add the following line to <code>app/views/layouts/application.html</code></p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="cp">&lt;%=</span> <span class="n">stylesheet_pack_tag</span> <span class="s1">'application'</span><span class="p">,</span> <span class="ss">media: </span><span class="s1">'all'</span><span class="p">,</span> <span class="s1">'data-turbolinks-track'</span><span class="p">:</span> <span class="s1">'reload'</span> <span class="cp">%&gt;</span>
</code></pre></div>    </div>

    <ul>
      <li><code>application.html.erb</code> is the template used by all views.</li>
      <li>The erb code you write in your views is inserted by the <code>yield</code>.</li>
      <li>The <code>stylesheet_pack_tag</code> causes every page to load the css packaged up by Webpacker.
        <ul>
          <li>This package contains the Bootstrap CSS</li>
        </ul>
      </li>
      <li>Similarly, the <code>javascript_pack_tag</code> causes every page to load the JavaScript packaged up by Webpacker</li>
    </ul>
  </li>
</ol>

<h2 id="step-2-show-the-various-templates--components-available-with-bootstrap">Step 2: Show the various templates / components available with BootStrap:**</h2>

<ul>
  <li><a href="https://getbootstrap.com/docs/4.0/examples/">https://getbootstrap.com/docs/4.0/examples/</a></li>
  <li><a href="https://getbootstrap.com/docs/4.0/components/alerts/">https://getbootstrap.com/docs/4.0/components/alerts/</a></li>
</ul>

<h2 id="step-3--set-up-a-home-page">Step 3:  Set up a Home page</h2>

<ol>
  <li>
    <p>Generate a <code>Home</code> controller</p>

    <pre><code>rails generate controller Home 
</code></pre>
  </li>
  <li>
    <p>Make sure the controller has an <code>index</code> method:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">HomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add this route to <code>config/routes.rb</code>:</p>

    <pre><code>root 'home#index'
</code></pre>
  </li>
  <li>
    <p>Create the home page template: <code>views/home/index.html.erb</code>  (You don’t need any content yet.)</p>
    <ul>
      <li class="to-me">Copy code from <code>basicColumns.html</code> to verify that the Bootstrap CSS is available and working.
  (Add some borders into the <code>home.scss</code> to make it easier to see what’s going on.)</li>
    </ul>
  </li>
</ol>

<h2 id="step-4-now-lets-add-a-jumbotron-to-our-homepage">Step 4: Now Let’s add a Jumbotron to our homepage!</h2>

<ol>
  <li>Download a background image
    <ul>
      <li><code>cd</code> into <code>app/assets/images</code></li>
      <li>
        <p>run</p>

        <pre><code>curl -L https://bit.ly/3bD7QJM --output bees.jpg
</code></pre>
      </li>
      <li>The <code>-L</code> is important.</li>
      <li>(The actual full URL for the bee image is <a href="https://raw.githubusercontent.com/jengelsma/CIS658-Winter18-BlogDemo/master/app/assets/images/bees.jpg">https://raw.githubusercontent.com/jengelsma/CIS658-Winter18-BlogDemo/master/app/assets/images/bees.jpg</a>)</li>
    </ul>
  </li>
  <li>
    <p>Add the following to <code>views/home/index.html.erb</code>:</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"jumbotron-fluid"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Welcome to my world of bees!<span class="nt">&lt;/h1&gt;</span>
     <span class="nt">&lt;p&gt;</span>The happiness of the bee and the dolphin is to exist. For man it is to know that and to wonder at it.<span class="nt">&lt;/p&gt;</span>
     <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-primary btn-lg"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>Learn more <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span> 
   <span class="nt">&lt;/div&gt;</span>
 <span class="nt">&lt;/div&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the following to <code>home.scss</code> **</p>

    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nc">.jumbotron-fluid</span> <span class="p">{</span>
     <span class="nl">background-image</span><span class="p">:</span> <span class="n">asset-url</span><span class="p">(</span><span class="s2">'bees.jpg'</span><span class="p">);</span>
     <span class="nl">background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>
     <span class="nl">height</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="nc">.jumbotron-fluid</span> <span class="nt">h1</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">letter-spacing</span><span class="p">:</span> <span class="m">-1px</span><span class="p">;</span>
    <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="nc">.jumbotron-fluid</span> <span class="nt">p</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>To see the bee image, you may have to
    <ul>
      <li>Stop the server
        <ul>
          <li>run <code>rake tmp:cache:clear</code></li>
          <li>start the server.</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h2 id="step-5-nice--now-lets-call-out-our-most-recent-articles-under-the-jumbotron">Step 5: Nice!  Now let’s call out our most recent articles under the Jumbotron</h2>

<ol>
  <li>
    <p>Add the following to <code>index.html.erb</code></p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-fluid"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Example row of columns --&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Heading<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris        condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod.        Donec sed odio dui. <span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Heading<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris        condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod.        Donec sed odio dui. <span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Heading<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta        felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum        massa justo sit amet risus.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">role=</span><span class="s">"button"</span><span class="nt">&gt;</span>View details <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
     
  <span class="nt">&lt;hr&gt;</span>
     
  <span class="nt">&lt;footer&gt;</span>
    <span class="nt">&lt;p&gt;</span><span class="ni">&amp;copy;</span> 2018 Company, Inc.<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/footer&gt;</span>
<span class="nt">&lt;/div&gt;</span> 
</code></pre></div>    </div>
  </li>
  <li>
    <p>In your home controller, implement the index method to do the query.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">index</span>
   <span class="vi">@posts</span> <span class="o">=</span> <span class="no">Post</span><span class="p">.</span><span class="nf">last</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now render these posts using a similar HTML structure to that from Step 1.  Replace the hardwired Heading <code>div</code>s from with this:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">% @posts.each </span><span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span> <span class="sx">%&gt;
   &lt;div class="col-md-4"&gt;</span>
      <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;&lt;</span><span class="sx">%= post.title%&gt;&lt;/h2&gt;
      &lt;p&gt;&lt;%=</span><span class="n">post</span><span class="p">.</span><span class="nf">article</span><span class="p">.</span><span class="nf">truncate_words</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">%&gt;&lt;</span><span class="sr">/p&gt;
      &lt;p&gt;
        &lt;%= link_to 'Read more &amp;raquo;'.html_safe, post, class: "btn btn-default"%&gt;
      &lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="sr">/div&gt;
&lt;% end %&gt;
</span></code></pre></div>    </div>
  </li>
</ol>

<h2 id="step-6-now-lets-add-a-standard-nav-bar-to-our-app-throughout">Step 6: Now let’s add a standard nav bar to our app throughout.</h2>

<ol>
  <li>
    <p>Create a new partial named <code>views/layouts/_navigation.html.erb</code> and place this code in it</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"navbar navbar-expand-lg navbar-dark bg-dark"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"navbar-brand"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Bee Blog<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"navbar-toggler"</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">data-toggle=</span><span class="s">"collapse"</span> <span class="na">data-target=</span><span class="s">"#navbarSupportedContent"</span>           <span class="na">aria-controls=</span><span class="s">"navbarSupportedContent"</span> <span class="na">aria-expanded=</span><span class="s">"false"</span> <span class="na">aria-label=</span><span class="s">"Toggle navigation"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"navbar-toggler-icon"</span><span class="nt">&gt;&lt;/span&gt;</span>
  <span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"collapse navbar-collapse"</span> <span class="na">id=</span><span class="s">"navbarSupportedContent"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"navbar-nav mr-auto"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item active"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"nav-link navbar-dark"</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>(current)<span class="nt">&lt;/span&gt;&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"nav-link navbar-dark"</span> <span class="na">href=</span><span class="s">"/authors"</span><span class="nt">&gt;</span>Authors<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
     <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"nav-link navbar-dark"</span> <span class="na">href=</span><span class="s">"/posts"</span><span class="nt">&gt;</span>Posts<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item dropdown"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"nav-link dropdown-toggle navbar-dark"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">id=</span><span class="s">"navbarDropdown"</span> <span class="na">role=</span><span class="s">"button"</span>   <span class="na">data-toggle=</span><span class="s">"dropdown"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span> <span class="na">aria-expanded=</span><span class="s">"false"</span><span class="nt">&gt;</span>
        Other Sites
      <span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dropdown-menu"</span> <span class="na">aria-labelledby=</span><span class="s">"navbarDropdown"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"https://www.gvsu.edu"</span><span class="nt">&gt;</span>GVSU<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"https://www.cis.gvsu.edu"</span><span class="nt">&gt;</span>CIS<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dropdown-divider"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"https://www.gatech.edu"</span><span class="nt">&gt;</span>Georgia Tech<span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"form-inline my-2 my-lg-0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"form-control mr-sm-2"</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">placeholder=</span><span class="s">"Search"</span> <span class="na">aria-label=</span><span class="s">"Search"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-outline-success my-2 my-sm-0"</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Search<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/nav&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now invoke this partial in <code>views/layouts/application.html.erb</code>:**</p>

    <body class="language-erb">
   	&lt;%= render 'layouts/navigation' %&gt;
      &lt;%= yield %&gt;
   </body>
  </li>
</ol>

<h2 id="step-7-spruce-up-our-author-pages">Step 7: Spruce up our Author pages</h2>

<ul>
  <li>
    <p>Modify <code>views/authors/index.html.erb</code> to look like this:</p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="o">!</span><span class="n">notice</span><span class="p">.</span><span class="nf">blank?</span> <span class="cp">%&gt;</span>
	<span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"notice"</span> <span class="na">class=</span><span class="s">"alert alert-success"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">notice</span> <span class="cp">%&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    
<span class="nt">&lt;h1&gt;</span>Authors<span class="nt">&lt;/h1&gt;</span>
    
<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-hover"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span>First Name<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span>Last Name<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span>Email<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span>Actions<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/thead&gt;</span>
    <span class="nt">&lt;tbody&gt;</span>
      <span class="cp">&lt;%</span> <span class="vi">@authors</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">author</span><span class="o">|</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">author</span><span class="p">.</span><span class="nf">fname</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">author</span><span class="p">.</span><span class="nf">lname</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">author</span><span class="p">.</span><span class="nf">email</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"w-25"</span><span class="nt">&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">author</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"btn btn-default btn-sm"</span> <span class="k">do</span> <span class="cp">%&gt;</span>
           Show
          <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">edit_author_path</span><span class="p">(</span><span class="n">author</span><span class="p">),</span> <span class="ss">class: </span><span class="s2">"btn btn-default btn-sm"</span> <span class="k">do</span> <span class="cp">%&gt;</span>
          Edit
          <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
          <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">author</span><span class="p">,</span> <span class="ss">method: :delete</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="ss">confirm: </span><span class="s1">'Are you sure?'</span> <span class="p">},</span> <span class="ss">class: </span><span class="s2">"btn btn-danger btn-sm"</span> <span class="k">do</span> <span class="cp">%&gt;</span>
          Delete
          <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/tbody&gt;</span>
  <span class="nt">&lt;/table&gt;</span>
  <span class="nt">&lt;br/&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'New Author'</span><span class="p">,</span> <span class="n">new_author_path</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"btn btn-primary"</span> <span class="cp">%&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Make the form partial for authors pretty as well.  (Notice specifically that we’ve added bootstrap classes to the various elements.)</p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;%=</span> <span class="n">form_with</span><span class="p">(</span><span class="ss">model: </span><span class="n">author</span><span class="p">,</span> <span class="ss">local: </span><span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">form</span><span class="o">|</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">author</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">any?</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"error_explanation"</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;strong&gt;</span><span class="cp">&lt;%=</span> <span class="n">pluralize</span><span class="p">(</span><span class="n">author</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">count</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">)</span> <span class="cp">%&gt;</span> prohibited this author from being saved:<span class="nt">&lt;/strong&gt;</span>
    
      <span class="nt">&lt;ul&gt;</span>
      <span class="cp">&lt;%</span> <span class="n">author</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">full_messages</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">message</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">message</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:fname</span> <span class="p">,</span> <span class="s2">"First Name"</span><span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:fname</span><span class="p">,</span> <span class="ss">id: :author_fname</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"form-control"</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
    
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:lname</span><span class="p">,</span> <span class="s2">"Last Name"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:lname</span><span class="p">,</span> <span class="ss">id: :author_lname</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"form-control"</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
    
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:email</span><span class="p">,</span> <span class="s2">"Email"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">id: :author_email</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"form-control"</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
    
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:thumbnail</span><span class="p">,</span> <span class="s2">"Profile Image"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">file_field</span> <span class="ss">:thumbnail</span><span class="p">,</span> <span class="ss">id: :author_thumbnail</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"form-control-file"</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
    
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"actions"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">submit</span> <span class="ss">class: </span><span class="s2">"btn btn-primary"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Cancel'</span><span class="p">,</span> <span class="n">authors_path</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"btn btn-danger"</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Since we added a file upload type input, let’s doctor our controller a bit so it can    extract the file name. Add these two lines of code    at the top of the <code>create</code> and <code>update</code> methods:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">thumb_upload</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:author</span><span class="p">][</span><span class="ss">:thumbnail</span><span class="p">]</span>
  <span class="n">params</span><span class="p">[</span><span class="ss">:author</span><span class="p">][</span><span class="ss">:thumbnail</span><span class="p">]</span> <span class="o">=</span> <span class="n">thumb_upload</span><span class="p">.</span><span class="nf">original_filename</span> <span class="k">unless</span> <span class="n">thumb_upload</span><span class="p">.</span><span class="nf">nil?</span>
</code></pre></div>    </div>
  </li>
</ul>


</main>
</body>
</html>
